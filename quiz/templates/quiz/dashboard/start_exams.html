<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>start exams view</title>
    <!-- prism.css and prism.js -->
    <link rel="stylesheet" type="text/css" href="/static/sms/prism.css">
    <script src="/static/sms/prism.js"> </script>
    

       <!-- sweetify -->
       <!-- <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script> -->
      <!-- bootstrap link -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      
      <style>
       .option-label {
    display: inline-block;
    margin-right: 15px; /* Add spacing between options */
  }
      </style>
      
</head>
<body>


  <button onclick="goBack()" class="btn btn-secondary">Back to Topics</button>

  <script>
  function goBack() {
    window.history.back();
  }
  </script>
  
  <div class="card">
    <div class="card-header">
        <h2>Quiz Results</h2>
        {% for t in results %}
        <td>Mark: {{ t.marks }} / {{ q_count }}</td>
    {% endfor %}
<hr>

<form action="/quiz/calculate_marks" onsubmit="return saveAns()" enctype="multipart/form-data"  method="POST">
  {% csrf_token %}
  <input type="hidden" name="csrfmiddlewaretoken" value="C24rUotmdHawVQJL3KrqiWxvti8UffOFYUc8TRbZtLt36AVLdP3jbkzUVe3beRAa">
    <h1>{{course.course_name}} Quiz</h1><br>
    <h4>Number of Questions in the Quiz: {{q_count}}</h4>
    <hr>
    <p>pages {{page_obj}}</p>
    
    <hr>
  {% for q in  page_obj %}



{% if q.img_quiz.url %}
<div  class="text-center" ><img src="{{q.img_quiz.url}}" width="100%" height="300px" alt=""> </div><br>
{% endif %}<label data-label="my-label-button" class="language-markup line-numbers copy-to-clipboard-button body-text text-left">
  {{ q.question|safe }}
</label>


<h6 style="text-align: right;">[marks {{q.marks}}]</h6>

  <div class="">
    <fieldset>
  <input  type="radio" name="{{forloop.counter}}" id="{{q.option1}}" name="choose"  value="Option1" required>
 <label for="option1" data-label="my-label-button" class="language-markup line-numbers copy-to-clipboard-button body-text text-left"> {{q.option1|safe}}</label><br>
  </div>
  <div class="">
  <input  type="radio" name="{{forloop.counter}}" id="{{q.option2}}" name="choose" value="Option2" required>
  <label for="option2" data-label="my-label-button" class="language-markup line-numbers copy-to-clipboard-button body-text text-left">{{q.option2|safe}}</label><br>
</div>

{% if q.option3 %}
<div class="">
  <input  type="radio" name="{{forloop.counter}}" id="{{q.option3}}" name="choose" value="Option3" required>
  <label for="option3" data-label="my-label-button" class="language-markup line-numbers copy-to-clipboard-button body-text text-left">{{q.option3|safe}}</label><br> 
</div>
{% endif %}

{% if q.option4 %}
<div class="">
  <input  type="radio" name="{{forloop.counter}}" id="{{q.option4}}" name="choose" value="Option4" required>
  <label  for="option4" data-label="my-label-button" class="language-markup line-numbers copy-to-clipboard-button body-text text-left">{{q.option4|safe}}</label><br>
</div>
{% endif %}
<br><br>
{% empty %}
<h1 class="card text-center text-danger">No Exam Available Yet. CHECK LATER</h1>
  {% endfor %}
</fieldset>
  <input onclick="disp()" class="btn btn-primary" type="submit" value="Submit">
   

</div>

</form> 

    </div>
</div>



      <script> 

          function saveAns(){  
      
              var ele = document.getElementsByTagName('input'); 
              for(i = 0; i < ele.length; i++) { 
                  if(ele[i].type="radio") { 
                      if(ele[i].checked){        
                        setCookie(ele[i].name,ele[i].value,3)
                      }
                  } 
              } 
                
          }
          
          function setCookie(cname, cvalue, exdays) {
        var d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        var expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
      }
    </script>

<script>
    function disp(){
    alert('Note: You must answer all question before you will be able to submit')
    } 
</script>

<script>
  function check(){
    var radios = document.getElementsByName("choice");

    for (var i = 0, len = radios.length; i < len; i++) {
         if (radios[i].checked) {
             return true;
         }
    }

    return false;
}
</script>
<!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->

</script>
</body>
</html>

 <script> 
    function saveAns(){  

        var ele = document.getElementsByTagName('input'); 
        for(i = 0; i < ele.length; i++) { 
            if(ele[i].type="radio") { 
                if(ele[i].checked){        
                  setCookie(ele[i].name,ele[i].value,3)
                }
            } 
        } 
          
    }
    
    function setCookie(cname, cvalue, exdays) {
  var d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  var expires = "expires="+ d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

</script> 

<br><br><br><br><br><br>
